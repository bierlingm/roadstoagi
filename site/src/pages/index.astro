---
import Base from "../layouts/Base.astro";
import { loadRoads, loadClaims } from "../lib/loaders.js";

const roads = loadRoads();
const claims = loadClaims();
const survivingCount = claims.filter(c => c.status === "surviving").length;
---
<Base title="Roads to AGI">
  <div class="hero">
    <h1>Roads to AGI</h1>
    <p>Many roads. Shared tests. Survival, not consensus.</p>
    <p style="margin-top: 1rem; font-size: 0.9rem;">
      Competing explanations of general reasoning, gated and auditable.
    </p>
    <div style="margin-top: 2rem; display: flex; gap: 1rem; justify-content: center;">
      <a href="/roads" class="btn">Explore Roads</a>
      <a href="/arena" class="btn" style="background: transparent; border: 1px solid var(--accent);">View Arena</a>
    </div>
  </div>

  <div class="container">
    <div style="display: flex; gap: 2rem; justify-content: center; margin-bottom: 3rem; text-align: center;">
      <div>
        <div style="font-size: 2rem; font-weight: 700;">{roads.length}</div>
        <div style="color: var(--muted);">Roads</div>
      </div>
      <div>
        <div style="font-size: 2rem; font-weight: 700;">{claims.length}</div>
        <div style="color: var(--muted);">Claims</div>
      </div>
      <div>
        <div style="font-size: 2rem; font-weight: 700;">{survivingCount}</div>
        <div style="color: var(--muted);">Surviving</div>
      </div>
    </div>

    <h2 style="margin-bottom: 1rem;">Pick Your Road</h2>
    <div class="grid">
      {roads.map(road => (
        <a href={`/road/${road.id}`} class="card" style="text-decoration: none; color: inherit;">
          <h3>{road.title}</h3>
          <p>{road.thesis}</p>
          <div style="margin-top: 1rem;">
            <span class="tag">{road.status}</span>
            <span class="tag">{road.includes_claims?.length || 0} claims</span>
          </div>
        </a>
      ))}
      {roads.length === 0 && (
        <p style="color: var(--muted);">No roads yet. Coming soon.</p>
      )}
    </div>
  </div>
</Base>
